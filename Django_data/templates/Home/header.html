{% load static %}
<!DOCTYPE html>
<header>
  <div id="Header_content">
    {% if user.is_authenticated %}
    <div id="HEADER_IsAuth" data-auth="true" data-id="{{ id }}"></div>
    {% else %}
      <div id="HEADER_IsAuth" data-auth="false"></div>
    {% endif %}
    <nav class="navbar-dark">
      <div class="container-fluid">
	<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
	  <span class="navbar-toggler-icon"></span>
	</button>
	<div class="offcanvas offcanvas-start bg-dark" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
	  <div class="offcanvas-header">
	    <button type="button" class="btn-close btn-close-white text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	  </div>
	  <div class="offcanvas-body">
	    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
	      <li class="nav-item">
		{% if user.is_authenticated %}
		<div class="offcanvas-section offcanvas-section-border ">
		  <div class="ProfileCardboard offcanvas-profileCardboard">
		    <img class="ProfilePic offcanvas-profilePic" src="{{ profil_picture }}" alt="Very basic user"></img>
		    <div id="UserStatus">
		      <h1 id="username">{{ username }}</h1>
		    </div>
		  </div>
		</div>
		<div class="offcanvas-section offcanvas-section-border">
		  <div id="userStats">
			{% if win_rate >= 0 and win_rate <= 0.33 %}
			<span class="WR-title low-ranked">Winrate: {{ win_rate }}</span>
		  {% elif win_rate > 0.33 and win_rate <= 0.66 %}
			<span class="WR-title medium-ranked">Winrate: {{ win_rate }}</span>
		  {% elif win_rate > 0.66 and win_rate <= 1 %}
			<span class="WR-title high-ranked">Winrate: {{ win_rate }}</span>
		  {% endif %}
		    <p id="gamesPlayed">Games played : <b>{{ nb_games }}</b></p>
		  </div>
		</div>
		<div class="offcanvas-section d-flex justify-content-evenly flex-column">
            <div class="offcanvas-section-inner">
            <div class="ProfilePage offcanvas-profile">
                <button id="HEADER_NavProfile" type="button" class="ButtonLayout ButtonNeon">Profile</button>
                <button id="HEADER_NavFriends" class="ButtonLayout ButtonNeon">Friends</button>
            </div>
            </div>
            <div class="offcanvas-section-inner">
            <div class="ProfilePage offcanvas-profile">
                <button id="HEADER_NavSignOut" class="ButtonLayout ButtonDark">Sign out</button>
            </div>
            </div>
        </div>

		{% else %}

		  <div class="offcanvas-section">
			<div class="ProfilePage offcanvas-profile">
				<button id="HEADER_NavLogo"><img id="logo_placeholder" src="{% static 'images/favIcon.png' %}" alt="Pong logo"></button>
				<button id="HEADER_NavSignIn" type="button" class="ButtonLayout ButtonNeon">Sign in</button>
				<button id="HEADER_NavSignUp" type="button" class="ButtonLayout ButtonNeon">Sign up</button>
			</div>
		  </div>
		{% endif %}
	      </li>
	    </ul>
	  </div>
	</div>
      </div>
      <div id="div_logo">
	<button id="HEADER_Logo"><img id="logo_placeholder" src="{% static 'images/logoV0.5.png' %}" alt="Pong logo"></button>
      </div>

      <div id="div_profile">
      {% if user.is_authenticated %}
	  <div id="HEADER_user">
			<h1 id="HEADER_username">{{ username }}</h1>
			<img id="HEADER_ProfilePic" class="ProfilePic header-profilePic profilePic-right" src="{{ profil_picture }}" alt="Very basic user"></img>
	  </div>
      {% else %}
	<button id="HEADER_Signin" class="SelectButtonLayout ButtonNeon">Sign in</button>
      {% endif %}
      </div>
    </nav>
  </div>
</header>
